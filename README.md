# 🚀 脉脉自动发布系统

一个基于AI技术的自动化内容生成和发布系统，支持智能生成文章内容并一键发布到脉脉平台。

## ✨ 功能特性

- 🤖 **AI智能生成**: 使用Gemini模型智能生成高质量文章内容
- 📝 **多种提示词**: 支持职场、情感、生活等多种话题模板
- 🎯 **话题关联**: 支持关联脉脉热门话题，提高曝光度
- 🌐 **Web界面**: 简洁美观的H5界面，操作简单直观
- 📊 **实时状态**: 实时显示操作状态和结果反馈
- 🔧 **灵活配置**: 支持自定义提示词和模型选择

## 🛠️ 技术栈

- **后端**: Python + Flask
- **前端**: HTML5 + CSS3 + JavaScript
- **AI模型**: Gemini 2.5 Pro/Flash
- **API集成**: 脉脉开放平台

## 📦 安装部署

### 1. 环境要求

- Python 3.8+
- pip包管理器

### 2. 安装依赖

```bash
# 克隆项目
git clone <repository-url>
cd maimaichat

# 安装Python依赖
pip install -r requirements.txt
```

### 3. 配置环境

```bash
# 复制环境配置文件
cp .env.example .env

# 编辑配置文件，填入必要的API密钥
# 主要需要配置脉脉的访问令牌
```

### 4. 启动服务

```bash
# 启动Flask应用
python app.py
```

服务启动后，访问 `http://localhost:5000` 即可使用。

## 🎯 使用指南

### 1. 配置文章信息
- 输入文章标题
- 选择或输入话题链接（可选）
- 选择提示词类型或自定义提示词

### 2. 生成内容
- 点击"生成内容"按钮
- AI将根据配置生成文章内容
- 可以选择使用主模型或助手模型

### 3. 发布文章
- 检查生成的内容
- 点击"发布到脉脉"按钮
- 系统将自动发布到脉脉平台

## 📋 API接口

### 生成内容
```
POST /api/generate
{
    "topic": "文章主题",
    "custom_prompt": "自定义提示词",
    "use_main_model": true
}
```

### 发布内容
```
POST /api/publish
{
    "title": "文章标题",
    "content": "文章内容",
    "topic_url": "话题链接"
}
```

### 测试连接
```
POST /api/test-connection
{
    "type": "all"  // "ai", "maimai", "all"
}
```

## ⚙️ 配置说明

### AI API配置
系统已预配置AI API，包括：
- API密钥和基础URL
- 主模型：gemini-2.5-pro-search
- 助手模型：gemini-2.5-flash-search

### 脉脉API配置
需要在`.env`文件中配置：
```
MAIMAI_ACCESS_TOKEN=your-access-token
```

## 📝 提示词模板

系统内置多种提示词模板：

- **职场话题**: 适合职场讨论的专业内容
- **情感话题**: 温暖真诚的情感分享
- **生活话题**: 轻松自然的生活感悟
- **自定义**: 完全自定义的提示词

## 🔍 故障排除

### 常见问题

1. **AI生成失败**
   - 检查网络连接
   - 验证API密钥是否正确
   - 查看日志文件获取详细错误信息

2. **发布失败**
   - 确认脉脉访问令牌是否有效
   - 检查内容是否符合平台规范
   - 验证话题链接格式是否正确

3. **页面无法访问**
   - 确认Flask服务是否正常启动
   - 检查端口5000是否被占用
   - 查看控制台错误信息

### 日志查看
```bash
# 查看应用日志
tail -f logs/app.log
```

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目！

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者

---

**注意**: 使用本系统前请确保遵守脉脉平台的使用条款和相关法律法规。
